<style>
  * {
    padding: 0;
    margin: 0;
    font-family: "Inter", sans-serif;
    font-size: 12px;
  }

  input,
  select,
  #actions button {
    width: 100%;
  }

  select,
  input {
    height: 32px;
    padding: 0 8px;
    border: none;
    border-radius: 4px;
    background-color: #efefef;
  }

  input:focus {
    background-color: #ffffff;
    outline: 1px solid #151515;
  }

  select {
    /* REMOVE BROWSER STYLES */
    -moz-appearance: none;
    /* Firefox */
    -webkit-appearance: none;
    /* Safari and Chrome */
    appearance: none;

    background-image: var(--expand);
    background-repeat: no-repeat;
    background-position: right 8px top 50%;
  }

  .row {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
    gap: 8px;
  }

  /* ICONS */

  .control {
    position: relative;
  }

  .control.icon::before {
    content: "";
    position: absolute;
    left: 8px;
    top: 50%;
    transform: translateY(-50%);
    width: 16px;
    height: 16px;
    background-repeat: no-repeat;
    background-position: center;
    pointer-events: none;
  }

  .icon.only::before {
    left: 4px;
  }

  .control.icon.pie::before {
    background-image: var(--pie);
  }

  .control.icon.bar::before {
    background-image: var(--bar);
  }

  .control.icon.github::before {
    background-image: var(--github);
  }

  .control.icon.manual::before {
    background-image: var(--manual);
  }

  .control.icon.node::before {
    background-image: var(--node);
  }

  .control.icon.nodes::before {
    background-image: var(--nodes);
  }

  .control.icon.random::before {
    background-image: var(--random);
  }

  .control.icon.min::before {
    background-image: var(--min);
  }

  .control.icon.max::before {
    background-image: var(--max);
  }

  .control.icon>* {
    padding-left: 32px;
  }

  .icon.only button {
    padding-left: 0;
    font-size: 0;
  }

  /* PREVIEW */

  #preview {
    position: relative;
    height: 130px;
    background-image: var(--dots);
    background-repeat: repeat;
  }

  /* Progress bar */

  #progressabar-preview {
    position: relative;
    background-color: #151515;
    height: 1px;
    left: 16px;
    width: calc(100% - 32px);
    top: 48px;
  }

  #progress-value {
    position: absolute;
    display: block;
    background-color: #151515;
    height: 5px;
    width: 0%;
    top: -2px;
    border-radius: 1px;
  }

  .remain #progress-value {
    right: 0;
  }

  /* Pie chart */

  #pie-preview {
    position: absolute;
    top: calc(50% - 40px);
    left: calc(50% - 40px);
    display: none;
  }

  #pie-preview svg {
    display: inline-flex;
    vertical-align: bottom;
    width: 80px;
    height: 80px;
  }

  #pie-preview circle {
    stroke: #151515;
    stroke-width: 1px;
    fill: none;
  }

  #pie-preview .value {
    stroke-width: 5px;
    stroke: #151515;
    fill: none;
    transform-origin: center center;
    transform: rotate(-90deg) scaleX(-1);
    stroke-linecap: butt;
  }

  .remain #pie-preview .value {
    transform: rotate(-90deg) scaleX(-1) scaleY(-1);
  }

  /* Preferences */

  #preview,
  #preferences button {
    background-color: #fafafa;
  }

  #preferences {
    padding: 16px;
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    justify-content: space-between;
  }

  #preferences button {
    width: 24px;
    height: 24px;
    border-radius: 4px;
    border: none;
  }

  #preferences button:not(.active):hover {
    background-color: #efefef;
    outline: 1px solid #efefef;
  }

  #preferences button.active {
    border: 1px solid #151515;
  }

  /* FORM */

  #form,
  #settings {
    display: flex;
    flex-direction: column;
  }

  #form {
    padding: 16px;
    gap: 24px;
  }

  /* INPUTS */

  #inputs {
    align-items: center;
    padding-top: 8px;
  }

  #divider {
    display: inline-block;
    width: 24px;
    text-align: center;
  }

  /* SETTINGS */

  #settings.hidden {
    display: none;
  }

  #settings {
    gap: 8px;
  }

  #settings .control {
    flex-grow: 1;
  }

  #remaining {
    padding: 8px 0;
  }

  .toggle {
    position: relative;
    display: block;
    width: 20px;
    height: 12px;
    border: 1px solid #151515;
    border-radius: 8px;
  }

  .toggle.on {
    background-color: #151515;
  }

  .toggle::before {
    content: "";
    position: absolute;
    left: 2px;
    top: 50%;
    transform: translateY(-50%);
    width: 8px;
    height: 8px;
    background-color: #151515;
    pointer-events: none;
    border-radius: 4px;
  }

  .toggle.on::before {
    background-color: #ffffff;
    left: auto;
    right: 2px;
  }

  /* ACTIONS */

  #actions button {
    height: 36px;
    border: none;
    border-radius: 8px;
    color: #ffffff;
    background-color: #151515;
  }

  /* 
    REMOVE INPUT ARROWS
    Chrome, Safari, Edge, Opera 
  */

  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  /*  TYPOGRAPFY */

  /* @font-face {
    font-family: "Inter";
    font-style: normal;
    font-weight: 400;
    src: url("https://rsms.me/inter/font-files/Inter-Regular.woff2")
    } */

  /*
    CONVERT IMAGES TO BASE64 
    https://www.base64-image.de/ 
    https://codebeautify.org/svg-to-base64-converter
  */

  :root {
    --dots: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAxSURBVHgB7c4xDQAwDANBp0zCH5GpeEkrlUG8+gC8vkgOnu7GxoGpJA0M9kECCSTwXRPCB/m2LdnVAAAAAElFTkSuQmCC);
    --expand: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTggMTRMNC41IDEwLjVMNS4yIDkuOEw4IDEyLjZMMTAuOCA5LjhMMTEuNSAxMC41TDggMTRaTTggMkwxMS41IDUuNUwxMC44IDYuMkw4IDMuNEw1LjIgNi4yTDQuNSA1LjVMOCAyWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==);
    --pie: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTggMkM2LjgxMzMxIDIgNS42NTMyOCAyLjM1MTg5IDQuNjY2NTggMy4wMTExOEMzLjY3OTg5IDMuNjcwNDcgMi45MTA4NSA0LjYwNzU0IDIuNDU2NzMgNS43MDM5QzIuMDAyNiA2LjgwMDI2IDEuODgzNzggOC4wMDY2NiAyLjExNTI5IDkuMTcwNTRDMi4zNDY4IDEwLjMzNDQgMi45MTgyNSAxMS40MDM1IDMuNzU3MzYgMTIuMjQyNkM0LjU5NjQ4IDEzLjA4MTggNS42NjU1OCAxMy42NTMyIDYuODI5NDYgMTMuODg0N0M3Ljk5MzM1IDE0LjExNjIgOS4xOTk3NSAxMy45OTc0IDEwLjI5NjEgMTMuNTQzM0MxMS4zOTI1IDEzLjA4OTIgMTIuMzI5NSAxMi4zMjAxIDEyLjk4ODggMTEuMzMzNEMxMy42NDgxIDEwLjM0NjcgMTQgOS4xODY2OSAxNCA4QzE0IDYuNDA4NyAxMy4zNjc5IDQuODgyNTggMTIuMjQyNiAzLjc1NzM2QzExLjExNzQgMi42MzIxNCA5LjU5MTMgMiA4IDJaTTEzIDcuNUg4LjVWMy4wMjVDOS42NTIwOCAzLjEzNDg3IDEwLjczMDQgMy42NDA5OSAxMS41NTEgNC40NTcwNUMxMi4zNzE2IDUuMjczMSAxMi44ODM3IDYuMzQ4NTUgMTMgNy41Wk03LjcxIDEzQzYuNDQzNjkgMTIuOTQxMSA1LjI0NzAyIDEyLjQwMzQgNC4zNjIxIDExLjQ5NTdDMy40NzcxOSAxMC41ODggMi45NzAwOSA5LjM3ODA0IDIuOTQzNDEgOC4xMTA2NEMyLjkxNjcyIDYuODQzMjQgMy4zNzI0NSA1LjYxMzAyIDQuMjE4MzggNC42Njg4N0M1LjA2NDMxIDMuNzI0NzIgNi4yMzcyOSAzLjEzNzE0IDcuNSAzLjAyNVY3LjUyNUM3LjUgNy43OTAyMiA3LjYwNTM2IDguMDQ0NTcgNy43OTI5IDguMjMyMTFDNy45ODA0MyA4LjQxOTY0IDguMjM0NzkgOC41MjUgOC41IDguNTI1SDEzQzEyLjg2NyA5LjgwOTc1IDEyLjI0MTkgMTAuOTkzMiAxMS4yNTU4IDExLjgyNzRDMTAuMjY5NyAxMi42NjE2IDguOTk5MDMgMTMuMDgxOCA3LjcxIDEzWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==);
    --bar: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE0IDEwLjVIMkMxLjczNDg3IDEwLjQ5OTcgMS40ODA2OCAxMC4zOTQzIDEuMjkzMiAxMC4yMDY4QzEuMTA1NzIgMTAuMDE5MyAxLjAwMDI4IDkuNzY1MTMgMSA5LjVWNi41QzEuMDAwMjggNi4yMzQ4NyAxLjEwNTcyIDUuOTgwNjggMS4yOTMyIDUuNzkzMkMxLjQ4MDY4IDUuNjA1NzIgMS43MzQ4NyA1LjUwMDI4IDIgNS41SDE0QzE0LjI2NTEgNS41MDAyOCAxNC41MTkzIDUuNjA1NzIgMTQuNzA2OCA1Ljc5MzJDMTQuODk0MyA1Ljk4MDY4IDE0Ljk5OTcgNi4yMzQ4NyAxNSA2LjVWOS41QzE0Ljk5OTcgOS43NjUxMyAxNC44OTQzIDEwLjAxOTMgMTQuNzA2OCAxMC4yMDY4QzE0LjUxOTMgMTAuMzk0MyAxNC4yNjUxIDEwLjQ5OTcgMTQgMTAuNVpNMiA2LjVWOS41SDE0VjYuNUgyWiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTMgNy41SDEwVjguNUgzVjcuNVoiIGZpbGw9ImJsYWNrIi8+Cjwvc3ZnPgo=);
    --github: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03Ljk5OTk5IDAuOTk5OTgxQzYuMzM4MTMgMS4wMDAyIDQuNzMwNTYgMS41OTE2NyAzLjQ2NDg0IDIuNjY4NThDMi4xOTkxMiAzLjc0NTQ4IDEuMzU3ODIgNS4yMzc1OCAxLjA5MTQ0IDYuODc3OTVDMC44MjUwNjIgOC41MTgzMiAxLjE1MDk4IDEwLjIgMi4wMTA4OCAxMS42MjJDMi44NzA3OSAxMy4wNDQxIDQuMjA4NiAxNC4xMTM5IDUuNzg0OTkgMTQuNjRDNi4xMzQ5OSAxNC43MDUgNi4yODQ5OSAxNC40OSA2LjI4NDk5IDE0LjMwNUM2LjI4NDk5IDE0LjEyIDYuMjg0OTkgMTMuNyA2LjI4NDk5IDEzLjExNUM0LjMzOTk5IDEzLjUzNSAzLjkyOTk5IDEyLjE3NSAzLjkyOTk5IDEyLjE3NUMzLjc5MzIxIDExLjc0NjQgMy41MDUzNSAxMS4zODIxIDMuMTE5OTkgMTEuMTVDMi40ODQ5OSAxMC43MiAzLjE2OTk5IDEwLjcyNSAzLjE2OTk5IDEwLjcyNUMzLjM5MTc5IDEwLjc1NjMgMy42MDM1IDEwLjgzNzkgMy43ODg5NCAxMC45NjM2QzMuOTc0MzkgMTEuMDg5MiA0LjEyODY2IDExLjI1NTYgNC4yMzk5OSAxMS40NUM0LjQzMzY2IDExLjc5NzMgNC43NTczNiAxMi4wNTM2IDUuMTM5OSAxMi4xNjIzQzUuNTIyNDUgMTIuMjcxMSA1LjkzMjU0IDEyLjIyMzUgNi4yNzk5OSAxMi4wM0M2LjMwODIyIDExLjY3NTIgNi40NjQ2MiAxMS4zNDI5IDYuNzE5OTkgMTEuMDk1QzUuMTY5OTkgMTAuOTE1IDMuNTM0OTkgMTAuMzE1IDMuNTM0OTkgNy42MzQ5OEMzLjUyMzY1IDYuOTM4OTMgMy43ODE2IDYuMjY1NCA0LjI1NDk5IDUuNzU0OThDNC4wNDA3MiA1LjE1MjA4IDQuMDY1NzcgNC40ODk5NyA0LjMyNDk5IDMuOTA0OThDNC4zMjQ5OSAzLjkwNDk4IDQuOTA5OTkgMy43MTQ5OCA2LjI0OTk5IDQuNjE5OThDNy4zOTU3MyA0LjMwNzQ2IDguNjA0MjUgNC4zMDc0NiA5Ljc0OTk5IDQuNjE5OThDMTEuMDg1IDMuNzE0OTggMTEuNjcgMy45MDQ5OCAxMS42NyAzLjkwNDk4QzExLjkyOTIgNC40ODk5NyAxMS45NTQzIDUuMTUyMDggMTEuNzQgNS43NTQ5OEMxMi4yMTM0IDYuMjY1NCAxMi40NzEzIDYuOTM4OTMgMTIuNDYgNy42MzQ5OEMxMi40NiAxMC4zMjUgMTAuODI1IDEwLjkxNSA5LjI2NDk5IDExLjA5QzkuNDMyMSAxMS4yNTk0IDkuNTYwOTYgMTEuNDYyNiA5LjY0MjkgMTEuNjg2QzkuNzI0ODQgMTEuOTA5NCA5Ljc1Nzk0IDEyLjE0NzcgOS43Mzk5OSAxMi4zODVDOS43Mzk5OSAxMy4zMiA5LjczOTk5IDE0LjA3NSA5LjczOTk5IDE0LjMwNUM5LjczOTk5IDE0LjUzNSA5Ljg2NDk5IDE0LjcxIDEwLjI0IDE0LjY0QzExLjgxODUgMTQuMTEzMiAxMy4xNTc2IDEzLjA0MTQgMTQuMDE3NCAxMS42MTY3QzE0Ljg3NzIgMTAuMTkyIDE1LjIwMTMgOC41MDc2MSAxNC45MzE2IDYuODY1NTdDMTQuNjYyIDUuMjIzNTQgMTMuODE2MiAzLjczMTI3IDEyLjU0NTkgMi42NTYzN0MxMS4yNzU3IDEuNTgxNDYgOS42NjQwMSAwLjk5NDIzMiA3Ljk5OTk5IDAuOTk5OTgxVjAuOTk5OTgxWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==);
    --manual: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE0IDQuNUgxMVY1LjVIMTRWNy41SDEyVjguNUgxNFYxMC41SDExVjExLjVIMTRDMTQuMjY1MSAxMS40OTk2IDE0LjUxOTMgMTEuMzk0MiAxNC43MDY3IDExLjIwNjdDMTQuODk0MiAxMS4wMTkzIDE0Ljk5OTYgMTAuNzY1MSAxNSAxMC41VjUuNUMxNC45OTk3IDUuMjM0ODggMTQuODk0MiA0Ljk4MDcgMTQuNzA2OCA0Ljc5MzIzQzE0LjUxOTMgNC42MDU3NiAxNC4yNjUxIDQuNTAwMyAxNCA0LjVaTTEwIDExLjVINlY4LjVDNi4wMDAyNiA4LjIzNDg2IDYuMTA1NzEgNy45ODA2NiA2LjI5MzE5IDcuNzkzMTlDNi40ODA2NiA3LjYwNTcxIDYuNzM0ODYgNy41MDAyNiA3IDcuNUg5VjUuNUg2VjQuNUg5QzkuMjY1MTIgNC41MDAzIDkuNTE5MyA0LjYwNTc2IDkuNzA2NzcgNC43OTMyM0M5Ljg5NDI0IDQuOTgwNyA5Ljk5OTcgNS4yMzQ4OCAxMCA1LjVWNy41QzkuOTk5NyA3Ljc2NTEyIDkuODk0MjQgOC4wMTkzIDkuNzA2NzcgOC4yMDY3N0M5LjUxOTMgOC4zOTQyNCA5LjI2NTEyIDguNDk5NyA5IDguNUg3VjEwLjVIMTBWMTEuNVpNMS4yNSAxMS4yNVYxMC43NUgyLjc1VjUuMjVIMS4yNVY0Ljc1SDMuMjVWMTAuNzVINC43NVYxMS4yNUgxLjI1WiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTMgNVYxMVY1Wk0zLjUgNC41SDFWNS41SDIuNVYxMC41SDFWMTEuNUg1VjEwLjVIMy41VjQuNVoiIGZpbGw9ImJsYWNrIi8+Cjwvc3ZnPgo=);
    --node: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEzLjUgMTEuMDdWNC45Mjk5OUMxMy44NDI2IDQuODQzMTkgMTQuMTU2IDQuNjY3MTcgMTQuNDA4NCA0LjQxOTg2QzE0LjY2MDggNC4xNzI1NCAxNC44NDMyIDMuODYyNzcgMTQuOTM3IDMuNTIyMDVDMTUuMDMwOCAzLjE4MTM0IDE1LjAzMjYgMi44MjE4NyAxNC45NDIzIDIuNDgwMjJDMTQuODUyIDIuMTM4NTYgMTQuNjcyOCAxLjgyNjk0IDE0LjQyMjkgMS41NzcwNkMxNC4xNzMxIDEuMzI3MTggMTMuODYxNCAxLjE0Nzk3IDEzLjUxOTggMS4wNTc2N0MxMy4xNzgxIDAuOTY3MzY5IDEyLjgxODYgMC45NjkyMDYgMTIuNDc3OSAxLjA2Mjk5QzEyLjEzNzIgMS4xNTY3OCAxMS44Mjc0IDEuMzM5MTYgMTEuNTgwMSAxLjU5MTU4QzExLjMzMjggMS44NDQgMTEuMTU2OCAyLjE1NzQ0IDExLjA3IDIuNDk5OTlINC45Mjk5OUM0Ljg0MzE5IDIuMTU3NDQgNC42NjcxNyAxLjg0NCA0LjQxOTg2IDEuNTkxNThDNC4xNzI1NCAxLjMzOTE2IDMuODYyNzcgMS4xNTY3OCAzLjUyMjA1IDEuMDYyOTlDMy4xODEzNCAwLjk2OTIwNiAyLjgyMTg3IDAuOTY3MzY5IDIuNDgwMjIgMS4wNTc2N0MyLjEzODU2IDEuMTQ3OTcgMS44MjY5NCAxLjMyNzE4IDEuNTc3MDYgMS41NzcwNkMxLjMyNzE4IDEuODI2OTQgMS4xNDc5NyAyLjEzODU2IDEuMDU3NjcgMi40ODAyMkMwLjk2NzM2OSAyLjgyMTg3IDAuOTY5MjA2IDMuMTgxMzQgMS4wNjI5OSAzLjUyMjA1QzEuMTU2NzggMy44NjI3NyAxLjMzOTE2IDQuMTcyNTQgMS41OTE1OCA0LjQxOTg2QzEuODQ0IDQuNjY3MTcgMi4xNTc0NCA0Ljg0MzE5IDIuNDk5OTkgNC45Mjk5OVYxMS4wN0MyLjE1NzQ0IDExLjE1NjggMS44NDQgMTEuMzMyOCAxLjU5MTU4IDExLjU4MDFDMS4zMzkxNiAxMS44Mjc0IDEuMTU2NzggMTIuMTM3MiAxLjA2Mjk5IDEyLjQ3NzlDMC45NjkyMDYgMTIuODE4NiAwLjk2NzM2OSAxMy4xNzgxIDEuMDU3NjcgMTMuNTE5OEMxLjE0Nzk3IDEzLjg2MTQgMS4zMjcxOCAxNC4xNzMxIDEuNTc3MDYgMTQuNDIyOUMxLjgyNjk0IDE0LjY3MjggMi4xMzg1NiAxNC44NTIgMi40ODAyMiAxNC45NDIzQzIuODIxODcgMTUuMDMyNiAzLjE4MTM0IDE1LjAzMDggMy41MjIwNSAxNC45MzdDMy44NjI3NyAxNC44NDMyIDQuMTcyNTQgMTQuNjYwOCA0LjQxOTg2IDE0LjQwODRDNC42NjcxNyAxNC4xNTYgNC44NDMxOSAxMy44NDI2IDQuOTI5OTkgMTMuNUgxMS4wN0MxMS4xNTY4IDEzLjg0MjYgMTEuMzMyOCAxNC4xNTYgMTEuNTgwMSAxNC40MDg0QzExLjgyNzQgMTQuNjYwOCAxMi4xMzcyIDE0Ljg0MzIgMTIuNDc3OSAxNC45MzdDMTIuODE4NiAxNS4wMzA4IDEzLjE3ODEgMTUuMDMyNiAxMy41MTk4IDE0Ljk0MjNDMTMuODYxNCAxNC44NTIgMTQuMTczMSAxNC42NzI4IDE0LjQyMjkgMTQuNDIyOUMxNC42NzI4IDE0LjE3MzEgMTQuODUyIDEzLjg2MTQgMTQuOTQyMyAxMy41MTk4QzE1LjAzMjYgMTMuMTc4MSAxNS4wMzA4IDEyLjgxODYgMTQuOTM3IDEyLjQ3NzlDMTQuODQzMiAxMi4xMzcyIDE0LjY2MDggMTEuODI3NCAxNC40MDg0IDExLjU4MDFDMTQuMTU2IDExLjMzMjggMTMuODQyNiAxMS4xNTY4IDEzLjUgMTEuMDdaTTEzIDEuOTk5OTlDMTMuMTk3OCAxLjk5OTk5IDEzLjM5MTEgMi4wNTg2NCAxMy41NTU2IDIuMTY4NTNDMTMuNzIgMi4yNzg0MSAxMy44NDgyIDIuNDM0NTkgMTMuOTIzOSAyLjYxNzMxQzEzLjk5OTYgMi44MDAwNCAxNC4wMTk0IDMuMDAxMSAxMy45ODA4IDMuMTk1MDlDMTMuOTQyMiAzLjM4OTA3IDEzLjg0NyAzLjU2NzI1IDEzLjcwNzEgMy43MDcxQzEzLjU2NzIgMy44NDY5NSAxMy4zODkxIDMuOTQyMiAxMy4xOTUxIDMuOTgwNzhDMTMuMDAxMSA0LjAxOTM3IDEyLjggMy45OTk1NiAxMi42MTczIDMuOTIzODdDMTIuNDM0NiAzLjg0ODE5IDEyLjI3ODQgMy43MjAwMSAxMi4xNjg1IDMuNTU1NTdDMTIuMDU4NiAzLjM5MTEyIDEyIDMuMTk3NzggMTIgMi45OTk5OUMxMiAyLjczNDc4IDEyLjEwNTQgMi40ODA0MiAxMi4yOTI5IDIuMjkyODlDMTIuNDgwNCAyLjEwNTM1IDEyLjczNDggMS45OTk5OSAxMyAxLjk5OTk5Wk0xLjk5OTk5IDIuOTk5OTlDMS45OTk5OSAyLjgwMjIxIDIuMDU4NjQgMi42MDg4NyAyLjE2ODUzIDIuNDQ0NDJDMi4yNzg0MSAyLjI3OTk4IDIuNDM0NTkgMi4xNTE4IDIuNjE3MzEgMi4wNzYxMkMyLjgwMDA0IDIuMDAwNDMgMy4wMDExIDEuOTgwNjIgMy4xOTUwOSAyLjAxOTIxQzMuMzg5MDcgMi4wNTc3OSAzLjU2NzI1IDIuMTUzMDQgMy43MDcxIDIuMjkyODlDMy44NDY5NSAyLjQzMjc0IDMuOTQyMiAyLjYxMDkyIDMuOTgwNzggMi44MDQ5QzQuMDE5MzcgMi45OTg4OSAzLjk5OTU2IDMuMTk5OTUgMy45MjM4NyAzLjM4MjY4QzMuODQ4MTkgMy41NjU0IDMuNzIwMDEgMy43MjE1OCAzLjU1NTU3IDMuODMxNDZDMy4zOTExMiAzLjk0MTM1IDMuMTk3NzggMy45OTk5OSAyLjk5OTk5IDMuOTk5OTlDMi43MzQ3OCAzLjk5OTk5IDIuNDgwNDIgMy44OTQ2NCAyLjI5Mjg5IDMuNzA3MUMyLjEwNTM1IDMuNTE5NTcgMS45OTk5OSAzLjI2NTIxIDEuOTk5OTkgMi45OTk5OVpNMi45OTk5OSAxNEMyLjgwMjIxIDE0IDIuNjA4ODcgMTMuOTQxMyAyLjQ0NDQyIDEzLjgzMTVDMi4yNzk5OCAxMy43MjE2IDIuMTUxOCAxMy41NjU0IDIuMDc2MTIgMTMuMzgyN0MyLjAwMDQzIDEzLjIgMS45ODA2MiAxMi45OTg5IDIuMDE5MjEgMTIuODA0OUMyLjA1Nzc5IDEyLjYxMDkgMi4xNTMwNCAxMi40MzI3IDIuMjkyODkgMTIuMjkyOUMyLjQzMjc0IDEyLjE1MyAyLjYxMDkyIDEyLjA1NzggMi44MDQ5IDEyLjAxOTJDMi45OTg4OSAxMS45ODA2IDMuMTk5OTUgMTIuMDAwNCAzLjM4MjY4IDEyLjA3NjFDMy41NjU0IDEyLjE1MTggMy43MjE1OCAxMi4yOCAzLjgzMTQ2IDEyLjQ0NDRDMy45NDEzNSAxMi42MDg5IDMuOTk5OTkgMTIuODAyMiAzLjk5OTk5IDEzQzMuOTk5OTkgMTMuMjY1MiAzLjg5NDY0IDEzLjUxOTYgMy43MDcxIDEzLjcwNzFDMy41MTk1NyAxMy44OTQ2IDMuMjY1MjEgMTQgMi45OTk5OSAxNFpNMTEuMDcgMTIuNUg0LjkyOTk5QzQuODQwMjIgMTIuMTU2MSA0LjY2MDQgMTEuODQyMyA0LjQwOTA1IDExLjU5MDlDNC4xNTc3MSAxMS4zMzk2IDMuODQzOTIgMTEuMTU5OCAzLjQ5OTk5IDExLjA3VjQuOTI5OTlDMy44NDM5MiA0Ljg0MDIyIDQuMTU3NzEgNC42NjA0IDQuNDA5MDUgNC40MDkwNUM0LjY2MDQgNC4xNTc3MSA0Ljg0MDIyIDMuODQzOTIgNC45Mjk5OSAzLjQ5OTk5SDExLjA3QzExLjE1OTggMy44NDM5MiAxMS4zMzk2IDQuMTU3NzEgMTEuNTkwOSA0LjQwOTA1QzExLjg0MjMgNC42NjA0IDEyLjE1NjEgNC44NDAyMiAxMi41IDQuOTI5OTlWMTEuMDdDMTIuMTU2MSAxMS4xNTk4IDExLjg0MjMgMTEuMzM5NiAxMS41OTA5IDExLjU5MDlDMTEuMzM5NiAxMS44NDIzIDExLjE1OTggMTIuMTU2MSAxMS4wNyAxMi41Wk0xMyAxNEMxMi44MDIyIDE0IDEyLjYwODkgMTMuOTQxMyAxMi40NDQ0IDEzLjgzMTVDMTIuMjggMTMuNzIxNiAxMi4xNTE4IDEzLjU2NTQgMTIuMDc2MSAxMy4zODI3QzEyLjAwMDQgMTMuMiAxMS45ODA2IDEyLjk5ODkgMTIuMDE5MiAxMi44MDQ5QzEyLjA1NzggMTIuNjEwOSAxMi4xNTMgMTIuNDMyNyAxMi4yOTI5IDEyLjI5MjlDMTIuNDMyNyAxMi4xNTMgMTIuNjEwOSAxMi4wNTc4IDEyLjgwNDkgMTIuMDE5MkMxMi45OTg5IDExLjk4MDYgMTMuMiAxMi4wMDA0IDEzLjM4MjcgMTIuMDc2MUMxMy41NjU0IDEyLjE1MTggMTMuNzIxNiAxMi4yOCAxMy44MzE1IDEyLjQ0NDRDMTMuOTQxMyAxMi42MDg5IDE0IDEyLjgwMjIgMTQgMTNDMTQgMTMuMjY1MiAxMy44OTQ2IDEzLjUxOTYgMTMuNzA3MSAxMy43MDcxQzEzLjUxOTYgMTMuODk0NiAxMy4yNjUyIDE0IDEzIDE0WiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTEwLjUgNS41SDUuNVY2LjVINy41VjExSDguNVY2LjVIMTAuNVY1LjVaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K);
    --nodes: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEzLjUgMTEuMDdWNC45Mjk5OUMxMy44NDI2IDQuODQzMTkgMTQuMTU2IDQuNjY3MTcgMTQuNDA4NCA0LjQxOTg2QzE0LjY2MDggNC4xNzI1NCAxNC44NDMyIDMuODYyNzcgMTQuOTM3IDMuNTIyMDVDMTUuMDMwOCAzLjE4MTM0IDE1LjAzMjYgMi44MjE4NyAxNC45NDIzIDIuNDgwMjJDMTQuODUyIDIuMTM4NTYgMTQuNjcyOCAxLjgyNjk0IDE0LjQyMjkgMS41NzcwNkMxNC4xNzMxIDEuMzI3MTggMTMuODYxNCAxLjE0Nzk3IDEzLjUxOTggMS4wNTc2N0MxMy4xNzgxIDAuOTY3MzY5IDEyLjgxODYgMC45NjkyMDYgMTIuNDc3OSAxLjA2Mjk5QzEyLjEzNzIgMS4xNTY3OCAxMS44Mjc0IDEuMzM5MTYgMTEuNTgwMSAxLjU5MTU4QzExLjMzMjggMS44NDQgMTEuMTU2OCAyLjE1NzQ0IDExLjA3IDIuNDk5OTlINC45Mjk5OUM0Ljg0MzE5IDIuMTU3NDQgNC42NjcxNyAxLjg0NCA0LjQxOTg2IDEuNTkxNThDNC4xNzI1NCAxLjMzOTE2IDMuODYyNzcgMS4xNTY3OCAzLjUyMjA1IDEuMDYyOTlDMy4xODEzNCAwLjk2OTIwNiAyLjgyMTg3IDAuOTY3MzY5IDIuNDgwMjIgMS4wNTc2N0MyLjEzODU2IDEuMTQ3OTcgMS44MjY5NCAxLjMyNzE4IDEuNTc3MDYgMS41NzcwNkMxLjMyNzE4IDEuODI2OTQgMS4xNDc5NyAyLjEzODU2IDEuMDU3NjcgMi40ODAyMkMwLjk2NzM2OSAyLjgyMTg3IDAuOTY5MjA2IDMuMTgxMzQgMS4wNjI5OSAzLjUyMjA1QzEuMTU2NzggMy44NjI3NyAxLjMzOTE2IDQuMTcyNTQgMS41OTE1OCA0LjQxOTg2QzEuODQ0IDQuNjY3MTcgMi4xNTc0NCA0Ljg0MzE5IDIuNDk5OTkgNC45Mjk5OVYxMS4wN0MyLjE1NzQ0IDExLjE1NjggMS44NDQgMTEuMzMyOCAxLjU5MTU4IDExLjU4MDFDMS4zMzkxNiAxMS44Mjc0IDEuMTU2NzggMTIuMTM3MiAxLjA2Mjk5IDEyLjQ3NzlDMC45NjkyMDYgMTIuODE4NiAwLjk2NzM2OSAxMy4xNzgxIDEuMDU3NjcgMTMuNTE5OEMxLjE0Nzk3IDEzLjg2MTQgMS4zMjcxOCAxNC4xNzMxIDEuNTc3MDYgMTQuNDIyOUMxLjgyNjk0IDE0LjY3MjggMi4xMzg1NiAxNC44NTIgMi40ODAyMiAxNC45NDIzQzIuODIxODcgMTUuMDMyNiAzLjE4MTM0IDE1LjAzMDggMy41MjIwNSAxNC45MzdDMy44NjI3NyAxNC44NDMyIDQuMTcyNTQgMTQuNjYwOCA0LjQxOTg2IDE0LjQwODRDNC42NjcxNyAxNC4xNTYgNC44NDMxOSAxMy44NDI2IDQuOTI5OTkgMTMuNUgxMS4wN0MxMS4xNTY4IDEzLjg0MjYgMTEuMzMyOCAxNC4xNTYgMTEuNTgwMSAxNC40MDg0QzExLjgyNzQgMTQuNjYwOCAxMi4xMzcyIDE0Ljg0MzIgMTIuNDc3OSAxNC45MzdDMTIuODE4NiAxNS4wMzA4IDEzLjE3ODEgMTUuMDMyNiAxMy41MTk4IDE0Ljk0MjNDMTMuODYxNCAxNC44NTIgMTQuMTczMSAxNC42NzI4IDE0LjQyMjkgMTQuNDIyOUMxNC42NzI4IDE0LjE3MzEgMTQuODUyIDEzLjg2MTQgMTQuOTQyMyAxMy41MTk4QzE1LjAzMjYgMTMuMTc4MSAxNS4wMzA4IDEyLjgxODYgMTQuOTM3IDEyLjQ3NzlDMTQuODQzMiAxMi4xMzcyIDE0LjY2MDggMTEuODI3NCAxNC40MDg0IDExLjU4MDFDMTQuMTU2IDExLjMzMjggMTMuODQyNiAxMS4xNTY4IDEzLjUgMTEuMDdaTTEzIDEuOTk5OTlDMTMuMTk3OCAxLjk5OTk5IDEzLjM5MTEgMi4wNTg2NCAxMy41NTU2IDIuMTY4NTNDMTMuNzIgMi4yNzg0MSAxMy44NDgyIDIuNDM0NTkgMTMuOTIzOSAyLjYxNzMxQzEzLjk5OTYgMi44MDAwNCAxNC4wMTk0IDMuMDAxMSAxMy45ODA4IDMuMTk1MDlDMTMuOTQyMiAzLjM4OTA3IDEzLjg0NyAzLjU2NzI1IDEzLjcwNzEgMy43MDcxQzEzLjU2NzIgMy44NDY5NSAxMy4zODkxIDMuOTQyMiAxMy4xOTUxIDMuOTgwNzhDMTMuMDAxMSA0LjAxOTM3IDEyLjggMy45OTk1NiAxMi42MTczIDMuOTIzODdDMTIuNDM0NiAzLjg0ODE5IDEyLjI3ODQgMy43MjAwMSAxMi4xNjg1IDMuNTU1NTdDMTIuMDU4NiAzLjM5MTEyIDEyIDMuMTk3NzggMTIgMi45OTk5OUMxMiAyLjczNDc4IDEyLjEwNTQgMi40ODA0MiAxMi4yOTI5IDIuMjkyODlDMTIuNDgwNCAyLjEwNTM1IDEyLjczNDggMS45OTk5OSAxMyAxLjk5OTk5Wk0xLjk5OTk5IDIuOTk5OTlDMS45OTk5OSAyLjgwMjIxIDIuMDU4NjQgMi42MDg4NyAyLjE2ODUzIDIuNDQ0NDJDMi4yNzg0MSAyLjI3OTk4IDIuNDM0NTkgMi4xNTE4IDIuNjE3MzEgMi4wNzYxMkMyLjgwMDA0IDIuMDAwNDMgMy4wMDExIDEuOTgwNjIgMy4xOTUwOSAyLjAxOTIxQzMuMzg5MDcgMi4wNTc3OSAzLjU2NzI1IDIuMTUzMDQgMy43MDcxIDIuMjkyODlDMy44NDY5NSAyLjQzMjc0IDMuOTQyMiAyLjYxMDkyIDMuOTgwNzggMi44MDQ5QzQuMDE5MzcgMi45OTg4OSAzLjk5OTU2IDMuMTk5OTUgMy45MjM4NyAzLjM4MjY4QzMuODQ4MTkgMy41NjU0IDMuNzIwMDEgMy43MjE1OCAzLjU1NTU3IDMuODMxNDZDMy4zOTExMiAzLjk0MTM1IDMuMTk3NzggMy45OTk5OSAyLjk5OTk5IDMuOTk5OTlDMi43MzQ3OCAzLjk5OTk5IDIuNDgwNDIgMy44OTQ2NCAyLjI5Mjg5IDMuNzA3MUMyLjEwNTM1IDMuNTE5NTcgMS45OTk5OSAzLjI2NTIxIDEuOTk5OTkgMi45OTk5OVpNMi45OTk5OSAxNEMyLjgwMjIxIDE0IDIuNjA4ODcgMTMuOTQxMyAyLjQ0NDQyIDEzLjgzMTVDMi4yNzk5OCAxMy43MjE2IDIuMTUxOCAxMy41NjU0IDIuMDc2MTIgMTMuMzgyN0MyLjAwMDQzIDEzLjIgMS45ODA2MiAxMi45OTg5IDIuMDE5MjEgMTIuODA0OUMyLjA1Nzc5IDEyLjYxMDkgMi4xNTMwNCAxMi40MzI3IDIuMjkyODkgMTIuMjkyOUMyLjQzMjc0IDEyLjE1MyAyLjYxMDkyIDEyLjA1NzggMi44MDQ5IDEyLjAxOTJDMi45OTg4OSAxMS45ODA2IDMuMTk5OTUgMTIuMDAwNCAzLjM4MjY4IDEyLjA3NjFDMy41NjU0IDEyLjE1MTggMy43MjE1OCAxMi4yOCAzLjgzMTQ2IDEyLjQ0NDRDMy45NDEzNSAxMi42MDg5IDMuOTk5OTkgMTIuODAyMiAzLjk5OTk5IDEzQzMuOTk5OTkgMTMuMjY1MiAzLjg5NDY0IDEzLjUxOTYgMy43MDcxIDEzLjcwNzFDMy41MTk1NyAxMy44OTQ2IDMuMjY1MjEgMTQgMi45OTk5OSAxNFpNMTEuMDcgMTIuNUg0LjkyOTk5QzQuODQwMjIgMTIuMTU2MSA0LjY2MDQgMTEuODQyMyA0LjQwOTA1IDExLjU5MDlDNC4xNTc3MSAxMS4zMzk2IDMuODQzOTIgMTEuMTU5OCAzLjQ5OTk5IDExLjA3VjQuOTI5OTlDMy44NDM5MiA0Ljg0MDIyIDQuMTU3NzEgNC42NjA0IDQuNDA5MDUgNC40MDkwNUM0LjY2MDQgNC4xNTc3MSA0Ljg0MDIyIDMuODQzOTIgNC45Mjk5OSAzLjQ5OTk5SDExLjA3QzExLjE1OTggMy44NDM5MiAxMS4zMzk2IDQuMTU3NzEgMTEuNTkwOSA0LjQwOTA1QzExLjg0MjMgNC42NjA0IDEyLjE1NjEgNC44NDAyMiAxMi41IDQuOTI5OTlWMTEuMDdDMTIuMTU2MSAxMS4xNTk4IDExLjg0MjMgMTEuMzM5NiAxMS41OTA5IDExLjU5MDlDMTEuMzM5NiAxMS44NDIzIDExLjE1OTggMTIuMTU2MSAxMS4wNyAxMi41Wk0xMyAxNEMxMi44MDIyIDE0IDEyLjYwODkgMTMuOTQxMyAxMi40NDQ0IDEzLjgzMTVDMTIuMjggMTMuNzIxNiAxMi4xNTE4IDEzLjU2NTQgMTIuMDc2MSAxMy4zODI3QzEyLjAwMDQgMTMuMiAxMS45ODA2IDEyLjk5ODkgMTIuMDE5MiAxMi44MDQ5QzEyLjA1NzggMTIuNjEwOSAxMi4xNTMgMTIuNDMyNyAxMi4yOTI5IDEyLjI5MjlDMTIuNDMyNyAxMi4xNTMgMTIuNjEwOSAxMi4wNTc4IDEyLjgwNDkgMTIuMDE5MkMxMi45OTg5IDExLjk4MDYgMTMuMiAxMi4wMDA0IDEzLjM4MjcgMTIuMDc2MUMxMy41NjU0IDEyLjE1MTggMTMuNzIxNiAxMi4yOCAxMy44MzE1IDEyLjQ0NDRDMTMuOTQxMyAxMi42MDg5IDE0IDEyLjgwMjIgMTQgMTNDMTQgMTMuMjY1MiAxMy44OTQ2IDEzLjUxOTYgMTMuNzA3MSAxMy43MDcxQzEzLjUxOTYgMTMuODk0NiAxMy4yNjUyIDE0IDEzIDE0WiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTEwLjUgNS41SDUuNVY2LjVINy41VjExSDguNVY2LjVIMTAuNVY1LjVaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K);
    --random: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDE0QzExLjQwNjcgMTQgMTAuODI2NiAxMy44MjQxIDEwLjMzMzMgMTMuNDk0NEM5LjgzOTk0IDEzLjE2NDggOS40NTU0MyAxMi42OTYyIDkuMjI4MzYgMTIuMTQ4MUM5LjAwMTMgMTEuNTk5OSA4Ljk0MTg5IDEwLjk5NjcgOS4wNTc2NCAxMC40MTQ3QzkuMTczNCA5LjgzMjc5IDkuNDU5MTIgOS4yOTgyNCA5Ljg3ODY4IDguODc4NjhDMTAuMjk4MiA4LjQ1OTEyIDEwLjgzMjggOC4xNzM0IDExLjQxNDcgOC4wNTc2NUMxMS45OTY3IDcuOTQxODkgMTIuNTk5OSA4LjAwMTMgMTMuMTQ4MSA4LjIyODM2QzEzLjY5NjIgOC40NTU0MyAxNC4xNjQ4IDguODM5OTQgMTQuNDk0NCA5LjMzMzI5QzE0LjgyNDEgOS44MjY2NCAxNSAxMC40MDY3IDE1IDExQzE0Ljk5OTEgMTEuNzk1NCAxNC42ODI3IDEyLjU1NzkgMTQuMTIwMyAxMy4xMjAzQzEzLjU1NzkgMTMuNjgyNyAxMi43OTU0IDEzLjk5OTEgMTIgMTRaTTEyIDlDMTEuNjA0NCA5IDExLjIxNzggOS4xMTczIDEwLjg4ODkgOS4zMzcwNkMxMC41NiA5LjU1NjgyIDEwLjMwMzYgOS44NjkxOCAxMC4xNTIyIDEwLjIzNDZDMTAuMDAwOSAxMC42MDAxIDkuOTYxMjYgMTEuMDAyMiAxMC4wMzg0IDExLjM5MDJDMTAuMTE1NiAxMS43NzgxIDEwLjMwNjEgMTIuMTM0NSAxMC41ODU4IDEyLjQxNDJDMTAuODY1NSAxMi42OTM5IDExLjIyMTkgMTIuODg0NCAxMS42MDk4IDEyLjk2MTZDMTEuOTk3OCAxMy4wMzg3IDEyLjM5OTkgMTIuOTk5MSAxMi43NjU0IDEyLjg0NzhDMTMuMTMwOCAxMi42OTY0IDEzLjQ0MzIgMTIuNDQgMTMuNjYyOSAxMi4xMTExQzEzLjg4MjcgMTEuNzgyMiAxNCAxMS4zOTU2IDE0IDExQzEzLjk5OTQgMTAuNDY5OCAxMy43ODg1IDkuOTYxMzkgMTMuNDEzNiA5LjU4NjQ0QzEzLjAzODYgOS4yMTE1IDEyLjUzMDMgOS4wMDA2IDEyIDlaTTQgMTRDMy40MDY2NiAxNCAyLjgyNjY0IDEzLjgyNDEgMi4zMzMyOSAxMy40OTQ0QzEuODM5OTQgMTMuMTY0OCAxLjQ1NTQzIDEyLjY5NjIgMS4yMjgzNiAxMi4xNDgxQzEuMDAxMyAxMS41OTk5IDAuOTQxODkgMTAuOTk2NyAxLjA1NzY1IDEwLjQxNDdDMS4xNzM0IDkuODMyNzkgMS40NTkxMiA5LjI5ODI0IDEuODc4NjggOC44Nzg2OEMyLjI5ODI0IDguNDU5MTIgMi44MzI3OSA4LjE3MzQgMy40MTQ3MyA4LjA1NzY1QzMuOTk2NjcgNy45NDE4OSA0LjU5OTg3IDguMDAxMyA1LjE0ODA1IDguMjI4MzZDNS42OTYyMyA4LjQ1NTQzIDYuMTY0NzcgOC44Mzk5NCA2LjQ5NDQxIDkuMzMzMjlDNi44MjQwNSA5LjgyNjY0IDcgMTAuNDA2NyA3IDExQzYuOTk5MDkgMTEuNzk1NCA2LjY4MjcyIDEyLjU1NzkgNi4xMjAzMSAxMy4xMjAzQzUuNTU3OSAxMy42ODI3IDQuNzk1MzcgMTMuOTk5MSA0IDE0Wk00IDlDMy42MDQ0NCA5IDMuMjE3NzYgOS4xMTczIDIuODg4ODYgOS4zMzcwNkMyLjU1OTk2IDkuNTU2ODIgMi4zMDM2MiA5Ljg2OTE4IDIuMTUyMjQgMTAuMjM0NkMyLjAwMDg3IDEwLjYwMDEgMS45NjEyNiAxMS4wMDIyIDIuMDM4NDMgMTEuMzkwMkMyLjExNTYgMTEuNzc4MSAyLjMwNjA4IDEyLjEzNDUgMi41ODU3OSAxMi40MTQyQzIuODY1NDkgMTIuNjkzOSAzLjIyMTg2IDEyLjg4NDQgMy42MDk4MiAxMi45NjE2QzMuOTk3NzggMTMuMDM4NyA0LjM5OTkyIDEyLjk5OTEgNC43NjUzNyAxMi44NDc4QzUuMTMwODIgMTIuNjk2NCA1LjQ0MzE4IDEyLjQ0IDUuNjYyOTQgMTIuMTExMUM1Ljg4MjcgMTEuNzgyMiA2IDExLjM5NTYgNiAxMUM1Ljk5OTQxIDEwLjQ2OTggNS43ODg1IDkuOTYxMzkgNS40MTM1NiA5LjU4NjQ0QzUuMDM4NjEgOS4yMTE1IDQuNTMwMjUgOS4wMDA2IDQgOVpNOCA3QzcuNDA2NjYgNyA2LjgyNjY0IDYuODI0MDUgNi4zMzMyOSA2LjQ5NDQxQzUuODM5OTQgNi4xNjQ3NyA1LjQ1NTQzIDUuNjk2MjMgNS4yMjgzNiA1LjE0ODA1QzUuMDAxMyA0LjU5OTg3IDQuOTQxODkgMy45OTY2NyA1LjA1NzY1IDMuNDE0NzNDNS4xNzM0IDIuODMyNzkgNS40NTkxMiAyLjI5ODI0IDUuODc4NjggMS44Nzg2OEM2LjI5ODI0IDEuNDU5MTIgNi44MzI3OSAxLjE3MzQgNy40MTQ3MyAxLjA1NzY1QzcuOTk2NjcgMC45NDE4OSA4LjU5OTg3IDEuMDAxMyA5LjE0ODA1IDEuMjI4MzZDOS42OTYyMyAxLjQ1NTQzIDEwLjE2NDggMS44Mzk5NCAxMC40OTQ0IDIuMzMzMjlDMTAuODI0MSAyLjgyNjY0IDExIDMuNDA2NjYgMTEgNEMxMC45OTkxIDQuNzk1MzcgMTAuNjgyNyA1LjU1NzkgMTAuMTIwMyA2LjEyMDMxQzkuNTU3OSA2LjY4MjcyIDguNzk1MzcgNi45OTkwOSA4IDdaTTggMkM3LjYwNDQ0IDIgNy4yMTc3NiAyLjExNzMgNi44ODg4NiAyLjMzNzA2QzYuNTU5OTYgMi41NTY4MiA2LjMwMzYyIDIuODY5MTggNi4xNTIyNCAzLjIzNDYzQzYuMDAwODcgMy42MDAwOSA1Ljk2MTI2IDQuMDAyMjIgNi4wMzg0MyA0LjM5MDE4QzYuMTE1NiA0Ljc3ODE0IDYuMzA2MDggNS4xMzQ1MSA2LjU4NTc5IDUuNDE0MjJDNi44NjU0OSA1LjY5MzkyIDcuMjIxODYgNS44ODQ0IDcuNjA5ODIgNS45NjE1N0M3Ljk5Nzc4IDYuMDM4NzQgOC4zOTk5MiA1Ljk5OTE0IDguNzY1MzcgNS44NDc3NkM5LjEzMDgyIDUuNjk2MzkgOS40NDMxOCA1LjQ0MDA0IDkuNjYyOTQgNS4xMTExNEM5Ljg4MjcgNC43ODIyNCAxMCA0LjM5NTU2IDEwIDRDOS45OTk0MSAzLjQ2OTc1IDkuNzg4NSAyLjk2MTM5IDkuNDEzNTYgMi41ODY0NUM5LjAzODYxIDIuMjExNSA4LjUzMDI1IDIuMDAwNiA4IDJaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K);
    --min: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEgNUgyLjM5NDYyTDMuODY3NTkgOS4wMzEyNUgzLjkzMDI3TDUuNDAzMjQgNUg2Ljc5Nzg2VjExSDUuNzAwOTdWNy4wOTQ3M0g1LjY1NjU3TDQuMjcyMzkgMTAuOTcwN0gzLjUyNTQ2TDIuMTQxMjkgNy4wODAwOEgyLjA5Njg5VjExSDFWNVoiIGZpbGw9IiMxNTE1MTUiLz4KPHBhdGggZD0iTTkuMjI4MTMgNVYxMUg4LjA5NzI4VjVIOS4yMjgxM1oiIGZpbGw9IiMxNTE1MTUiLz4KPHBhdGggZD0iTTE1IDVWMTFIMTQuMDIzMkwxMS42OTYzIDcuMjIzNjNIMTEuNjU3MVYxMUgxMC41MjYyVjVIMTEuNTE4N0wxMy44Mjc0IDguNzczNDRIMTMuODc0NFY1SDE1WiIgZmlsbD0iIzE1MTUxNSIvPgo8L3N2Zz4K);
    --max: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEgNUgyLjE5Mjg2TDMuNDUyNzMgOS4wMzEyNUgzLjUwNjM1TDQuNzY2MjIgNUg1Ljk1OTA4VjExSDUuMDIwODhWNy4wOTQ3M0g0Ljk4MjlMMy43OTg5OCAxMC45NzA3SDMuMTYwMUwxLjk3NjE4IDcuMDgwMDhIMS45MzgyVjExSDFWNVoiIGZpbGw9IiMxNTE1MTUiLz4KPHBhdGggZD0iTTcuMzU1ODIgMTFINi4zMTkzM0w3Ljg5ODY0IDVIOS4xNDUxMUwxMC43MjIyIDExSDkuNjg1N0w4LjUzOTc1IDYuMzcxMDlIOC41MDQwMUw3LjM1NTgyIDExWk03LjI5MTA0IDguNjQxNkg5LjczOTMxVjkuNjMxODRINy4yOTEwNFY4LjY0MTZaIiBmaWxsPSIjMTUxNTE1Ii8+CjxwYXRoIGQ9Ik0xMS45OTEgNUwxMi45MTM2IDcuMDQ0OTJIMTIuOTQ5NEwxMy44NzY0IDVIMTQuOTY4N0wxMy41NzI2IDhMMTUgMTFIMTMuODg3NkwxMi45NDk0IDguOTUyMTVIMTIuOTEzNkwxMS45NzU0IDExSDEwLjg2NzRMMTIuMjk5MyA4TDEwLjg5NDIgNUgxMS45OTFaIiBmaWxsPSIjMTUxNTE1Ii8+Cjwvc3ZnPgo=);
  }
</style>

<div id="root">
  <section id="preview" class="remain">
    <section id="progressabar-preview">
      <div id="progress-value"></div>
    </section>
    <section id="pie-preview">
      <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
        <circle r="45" cx="50" cy="50" />
        <path class="value" d="M5,50a45,45 0 1,0 90,0a45,45 0 1,0 -90,0" stroke-dashoffset="282.78302001953125"
          stroke-dasharray="282.78302001953125" />
      </svg>
    </section>
    <section id="preferences" class="row">

      <section id="chart" class="row">
        <div class="control icon only bar">
          <button id="bar" class="active">Progress bar</button>
        </div>
        <div class="control icon only pie">
          <button id="pie">Pie chart</button>
        </div>
      </section>

      <div class="control icon only github">
        <button>Github</button>
      </div>
    </section>
  </section>

  <section id="form">
    <section id="inputs" class="row">
      <div class="control icon node"><input id="input1" type="number" min="0" /></div>
      <div id="divider">:</div>
      <div class="control"><input id="input2" type="number" min="0" /></div>
    </section>

    <section id="settings" class="!hidden">
      <div class="control icon manual">
        <select id="source">
          <option id="manual" value="manual">Manual entering</option>
          <option id="node" value="node">Get value from text layer</option>
          <option id="nodes" value="nodes">Get value and total from text layers</option>
          <option id="random" value="random">Random</option>
        </select>
      </div>
      <section id="remaining" class="row">
        <span>Display remaining</span>
        <div id="remain" class="toggle on"></div>
      </section>
    </section>

    <section id="actions">
      <button id="apply" type="submit">Apply</button>
    </section>
  </section>
</div>

<script>
  let props = {}

  function updateIcon(element, current, upcoming) {
    const select = document.getElementById(element);

    select.parentElement.classList.replace(current, upcoming);
  }

  function updateBar(percentage) {
    const bar = document.getElementById("progress-value");

    const result = percentage >= 100
      ? (!props.remain ? 100 : 0)
      : (!props.remain ? percentage : 100 - percentage);

    bar.style.width = result + "%";
  }

  function updatePie(percentage) {
    const meters = document.querySelectorAll('svg .value');

    meters.forEach((path) => {
      const length = path.getTotalLength();

      const value = percentage >= 100
        ? (!props.remain ? 100 : 0)
        : (!props.remain ? parseFloat(percentage) : 100 - parseFloat(percentage));

      // Calculate the percentage of the total length
      let to = length * ((100 - value) / 100);
      path.getBoundingClientRect();
      // Set the Offset
      path.style.strokeDashoffset = Math.max(0, to);
    });

  }

  function updatePreview() {
    const input1 = parseFloat(document.getElementById("input1").value);
    const input2 = parseFloat(document.getElementById("input2").value);

    function randomIntFromInterval(min, max) {
      return Math.floor(Math.random() * (max - min + 1) + min)
    }

    switch (props.sourceType) {
      case "manual":
        updateBar((input1 / input2) * 100);
        updatePie((input1 / input2) * 100);
        break;

      case "random":
        updateBar(randomIntFromInterval(input1, input2));
        updatePie(randomIntFromInterval(input1, input2));
        break;

      default:
        updateBar(100);
        updatePie(100);
        break;
    }
  }

  /* Cart type handler */

  const chartTypeElement = document.getElementById("chart");

  function chartTypeChange(event) {
    // Switching active button
    const clickedButton = event.target.id;
    const buttons = chartTypeElement.querySelectorAll('button');
    const radioActive = "active";

    buttons.forEach(button => button.classList.remove(radioActive));
    document.getElementById(clickedButton).classList.add(radioActive);

    props.progressType = clickedButton;

    const bar = document.getElementById("progressabar-preview");
    const pie = document.getElementById("pie-preview");

    switch (props.progressType) {
      case "bar":
        bar.style.display = "block";
        pie.style.display = "none";
        break;

      case "pie":
        bar.style.display = "none";
        pie.style.display = "block";

        break;
      default:
        break;
    }
  }

  chartTypeElement.addEventListener('click', event => event.target.tagName === 'BUTTON' && chartTypeChange(event));

  /* Input handler */

  const inputElement = document.getElementById("inputs");

  function inputChange(event) {
    const input = document.getElementById(event.target.id);
    const value = input.value;

    switch (props.sourceType) {
      case "manual":
        if (input.id === "input1") props.value = value;
        if (input.id === "input2") props.total = value;
        break;

      case "node":
        if (input.id === "input1") props.sourceType1 = value;
        if (input.id === "input2") props.total = value;
        break;

      case "nodes":
        if (input.id === "input1") props.sourceType1 = value;
        if (input.id === "input2") props.sourceType2 = value;
        break;

      case "random":
        if (input.id === "input1") props.min = value;
        if (input.id === "input2") props.max = value;
        break;

      default:
        break;
    }
  }

  inputElement.addEventListener('change', event => event.target.tagName === 'INPUT' && inputChange(event));
  inputElement.addEventListener('input', event => event.target.tagName === 'INPUT' && updatePreview(event));

  /* Select handler */

  const sourceElement = document.getElementById("source");

  function sourceChange(source, props) {
    // Icon update
    const currentIcon = sourceElement.parentNode.classList[2];
    updateIcon("source", currentIcon, source);

    // Update form
    const container = document.querySelector("#inputs");
    const controls = container.querySelectorAll(".control");
    const divider = document.getElementById("divider");

    const input1 = document.getElementById("input1");
    const input2 = document.getElementById("input2");

    input1.focus();

    controls.forEach((control) => control.className = "control");

    switch (source) {
      case "manual":
        // Update values
        input1.placeholder = "Enter value"
        input2.placeholder = "out of";
        input1.type = input2.type = "number";
        input1.value = props.value;
        input2.value = props.total;

        break;
      case "node":
        controls[0].className = "control icon nodes";

        // Update values
        input1.placeholder = "TextName"
        input2.placeholder = "out of"
        input1.type = "text";
        input2.type = "number";

        props.sourceType1 !== null
          ? input1.value = props.sourceType1
          : input1.value = ""

        input2.value = props.total

        break;
      case "nodes":
        // Adding icons
        controls.forEach((control) => control.className = "control icon nodes");

        // Updating values
        input1.placeholder = input2.placeholder = "TextName"
        input1.type = input2.type = "text";

        input1.value = props.sourceType1
        input2.value = props.sourceType2

        break;
      case "random":
        // Adding icons
        controls[0].className = "control icon min";
        controls[1].className = "control icon max";

        // Updating values
        input1.placeholder = "Min value";
        input2.placeholder = "Max value"
        input1.type = input2.type = "number";
        input1.value = props.min;
        input2.value = props.max;

        break;
      default:
        break;
    }

    props.sourceType = source;
    updatePreview()
  }

  sourceElement.addEventListener('change', event => sourceChange(event.target.value, props));

  /* remain toggle handler */

  const toggleElement = document.getElementById("remain");
  const activeToggle = "on";
  const previewElement = document.getElementById("preview");
  const remainPreview = "remain"

  function toggleChange(upcoming) {
    props.remain = upcoming;
    toggleElement.classList.toggle(activeToggle, upcoming);
    previewElement.classList.toggle(remainPreview, upcoming);

    updatePreview();
  }

  toggleElement.addEventListener('click', event => toggleChange(!toggleElement.classList.contains(activeToggle)));

  /* Load */

  onmessage = event => {
    const receivedData = event.data.pluginMessage;

    // Update parameters
    props = receivedData.props;

    // Set type
    document.getElementById(props.progressType).click()

    // Set source
    sourceElement.value = props.sourceType;
    sourceChange(props.sourceType, props);

    // Set toggle
    toggleChange(props.remain);

    // Update preview
    updatePreview();

    // Appling
    function apply() {
      const messageData = receivedData;
      messageData.props = props;

      parent.postMessage({ pluginMessage: messageData }, "*");
    }

    const button = document.getElementById("apply");
    button.textContent = receivedData.command === "add"
      ? "Add"
      : receivedData.count > 1
        ? `Update ${receivedData.count} progressbars`
        : "Update";

    document
      .getElementById("root")
      .addEventListener("keyup", function (event) {
        if (event.key === "Enter") apply(props);
      });

    button.onclick = () => apply(props);
  }

</script>